<div class="container">
  <a routerLink="/categories" class="back-link">&larr; Back to Categories</a>

  <div *ngIf="loading" class="loading"> Loading...</div>

  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="!loading && category" class="category-details">
    <h1>{{ category.name }}</h1>

    <div class="category-id">Category ID: {{ category.id }}</div>

    <div class="items-section">
      <h2>Items</h2>

      <div class="actions">
        <a [routerLink]="['/categories', categoryId, 'items', 'add']" class="btn btn-primary">Add Item</a>
      </div>

      <div *ngIf="loadingItems" class="loading">Loading items...</div>

      <div *ngIf="!loadingItems && items.length === 0" class="empty">
        No items in this category.
      </div>

      <ul *ngIf="!loadingItems && items.length > 0">
        <li *ngFor="let item of items" class="row">
          <span class="name"><a [routerLink]="['/categories', categoryId, 'items', item.id]">{{ item.name }}</a></span>
          <div>
            <a [routerLink]="['/categories', categoryId, 'items', item.id, 'edit']" class="btn btn-secondary">Edit</a>
            <button (click)="deleteItem(item.id, item.name)" class="btn btn-danger">Delete</button>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
